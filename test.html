<!DOCTYPE html>
<html lang="ko">

<head>
        <meta charset="UTF-8">
        <title>Ajax Request</title>
        <script>
                function sendRequest() {
                        var httpRequest = new XMLHttpRequest();
                        httpRequest.onreadystatechange = function() {
                                if (httpRequest.readyState == XMLHttpRequest.DONE && httpRequest.status == 200 ) {
                                        var json = JSON.parse(httpRequest.responseText);
                                        var code = json.code;
                                        var message = json.message;

                                        document.getElementById("code").innerHTML = code;
                                        document.getElementById("message").innerHTML = message;
                                }
                        };
                        // GET 방식으로 요청을 보내면서 데이터를 동시에 전달함.
                        httpRequest.open("GET", "http://10.102.131.211:8080/hello", true);
                        httpRequest.send();
                }
        </script>
</head>

<body>

        <h1>GET 방식의 요청</h1>
        <h2>왜 안되는 걸까?</h2>
        <button type="button" onclick="sendRequest()">GET 방식으로 요청 보내기!</button>
        <p id="code"></p>
        <p id="message"></p>

</body>

</html>
